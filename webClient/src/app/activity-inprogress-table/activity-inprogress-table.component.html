<!--
  This program and the accompanying materials are
  made available under the terms of the Eclipse Public License v2.0 which accompanies
  this distribution, and is available at https://www.eclipse.org/legal/epl-v20.html
  
  SPDX-License-Identifier: EPL-2.0
  
  Copyright Contributors to the Zowe Project.
-->
<div *ngIf="tableModel != null && tableModel != undefined">
  <ibm-table-container>
    <ibm-table-toolbar [model]="tableModel" >
      <ibm-table-toolbar-content>
        <ibm-table-toolbar-search [expandable]="true" 
          placeholder=" Search for In Progress Events "
          (change)="searchValueChange($event.value)">
        </ibm-table-toolbar-search>
      </ibm-table-toolbar-content>
  </ibm-table-toolbar>
    <ibm-table
        [model]="tableModel"
        [stickyHeader]="true"
        [size]="sm"
        [skeleton]="false"
        [striped]="false"
        [sortable]="false"
        [isDataGrid]="true">
    </ibm-table>
    <ibm-pagination [itemsPerPageOptions] = "[10]" [model]="tableModel" (selectPage)="selectPage($event)"></ibm-pagination>
  </ibm-table-container>
</div>



<ng-template #actionsMenuTemplate let-data="data">
  <div class="container" *ngIf="data != null">
    <div class="row">
      <div class="col-md-2">
        <button (click)="cancelDownload($event,data)" type="button" class="btn btn-info">
          <span>X</span>
        </button>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #priorityMenuTemplate let-data="data">
  <div class="container" *ngIf="data != null">
    <div class="row">
      <div class="col-md-2" *ngIf="data.priority == ConfigVariables.HighPriority">
        <button (click)="priorityChange(data)" type="button" class="btn btn-info">
          <span>{{data.priority}}</span> 
        </button>
      </div>
      <div class="col-md-2" *ngIf="data.priority == ConfigVariables.LowPriority">
        <button (click)="priorityChange(data)" type="button" class="btn btn-info">
          <span>{{data.priority}}</span> 
        </button>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #customItemTemplate let-data="data">
  <div class="container">
    <div class="row">
      <div class="col-md-10">
        <div class="row" *ngIf="data.status == ConfigVariables.statusInprogress">
          <div class="col-md-2">
            00:00:00 elpased
          </div>
          <div class="col-md-2">
           {{calculateTimeToDownload()}} left
          </div>
          <div class="col-md-4">
            <progress-bar></progress-bar>
          </div>
          <div class="col-md-2">
            262,144 bytes (? B/s)
          </div>
        </div>
        <div class="row" *ngIf="data.status == ConfigVariables.statusQueued">
          <div class="col-md-2">
            00:00:00 elpased
          </div>
          <div class="col-md-2">
            --:--:-- left
          </div>
          <div class="col-md-4">
            <div class="progress">
              <div class="progress-bar" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">0%</div>
            </div>
          </div>
          <div class="col-md-2">
            262,144 bytes (? B/s)
          </div>
        </div>
      </div>
   
    </div>
  </div>
</ng-template>